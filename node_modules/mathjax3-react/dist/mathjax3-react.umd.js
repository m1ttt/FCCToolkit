(function(a,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],n):(a=typeof globalThis<"u"?globalThis:a||self,n(a["mathjax3-react"]={},a.jsxRuntime,a.React))})(this,function(a,n,s){"use strict";const y={url:"",attrs:{},inBody:!1,insertInto:null,removeScript:!1};function m(t){return Array.isArray(t)?Promise.all(t.map(m)):new Promise((r,e)=>{if(!(typeof t=="object"&&t.url||typeof t=="string"))return console.log({config:t}),void e(new Error("Object with url or url string needed"));const o=Object.assign({},y,typeof t=="string"?{url:t}:t),{url:c,attrs:u,inBody:l,insertInto:d,removeScript:h}=o,i=document.createElement("script"),f=d?document.querySelector(d):l?document.body:document.head;if(u&&typeof u=="object")for(const M of Object.keys(u))i.setAttribute(M,u[M]);f!=null?(i.addEventListener("load",()=>{h&&f.removeChild(i),r(h?void 0:i)}),i.addEventListener("error",()=>{h&&f.removeChild(i),e(new Error("Loading script error"))}),i.src=c,f.appendChild(i)):e(new Error("No DOM element to append script"))})}const p=s.createContext({}),v=t=>{const r=t.url||E,e=t.options||J,[o,c]=s.useState(e);window.MathJax=o,s.useEffect(()=>{m(r).then(u).catch(l)},[r]);function u(){c(window.MathJax)}function l(d){console.log(d)}return n.jsx(p.Provider,{value:o,...t})},J={},E="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js",j=()=>s.useContext(p),x=()=>{const t=j();function r(o=()=>{}){!t||typeof t.typesetPromise!="function"||t.typesetPromise().then(o).catch(c=>{e(c)||console.log(c)})}function e(o){return o instanceof TypeError}return[t,r]};function g({formula:t}){const[r,e]=x();return s.useEffect(()=>{e()}),r?n.jsx("div",{children:t}):n.jsx(n.Fragment,{})}function C({html:t,onFinishRender:r}){const[e,o]=x();return s.useEffect(()=>{e&&o(r)},[e,o,r]),e?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):n.jsx(n.Fragment,{})}a.MathJaxFormula=g,a.MathJaxHtml=C,a.MathJaxProvider=v,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
